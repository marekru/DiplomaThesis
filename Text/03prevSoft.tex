\Chapter{Predchádzajúce riešenia 1}{Verifikačný softvér}

Verifikácia predpovedných modelov počasia je úloha dokonale stvorená pre automatizáciu. 
Z tohto dôvodu meteorológovia začali využívať dostupný štatistický softvér 
a neskôr boli taktiež vyvíjané špecializované nástroje určené pre verifikáciu.
Môžeme teda rozdeliť verifikačný softvér do dvoch základných kategórií a to \textit{štatistický} a \textit{špecializovaný}, ktorý je zväčša podporovaný rôznymi národnými a medzinárodnými organizáciami.

\section{Štatistický softvér}
%TODO
Spoločnou črtou: \\
	- obmedzená funkcionalita \\
	- obmedzená vizualizácia \\
	- slabé / žiadne GUI \\
	- vyžaduje znalosť špecifického programovacieho jazyka \\
	- ...


\subsection{Tabuľkový softvér}
Napriek tomu, že je tabuľkový softvér na výpočet štatistík zamietnutý komunitou vedcov a štatistikov ako nevhodný a neprofesionálny, tak je využívaný, a to pomerne často, aj vo vedeckých kruhoch. 
Výhodou je, že novému užívateľovi umožňuje okamžite vidieť všetky kroky v základných procedúrach verifikácie a teda je výborný pre výučbové účely. \cite{VerifSoft} 
Najznámejší kus softvéru z pomedzi komerčných produktov je \textit{Microsoft Excel} \cite{Excel} a z voľne dostupných je jeho opensoruce náprotivok \textit{Open Office Calculate} \cite{OpenOfficeCalc}. Oba programy zahrňujú základné štatistické funkcie ako napríklad stredná kvadratická chyba (\textit{MSE}) pre spojité predpovede (pozri odsek \ref{subsec:mse}) a taktiež umožňujú generovanie jednoduchých grafov na základe tabuľkových dát. Tabuľkový softvér neposkytuje priamo funkcionalitu na výpočet ďalších sofistikovanejších verifikačných štatistík, avšak umožňuje ich implementáciu pomocou makro programovania v špecifickom jazyku. Pre Microsoft Excel je to \textit{Microsoft Visual Basic for Applications}(VBA) \cite{VBA} a pre Open Office Calculate zasa \textit{OpenOffice.org Basic} \cite{OpenOfficeBasic}. Oba jazyky patria do rodiny \textit{Basic} jazykov, takže majú mnoho podobných prvkov.  


\subsection{MATLAB}
\textit{MATLAB} je interaktívne prostredie s vlastným programovacím jazykom, ktorý je využívaný miliónmi inžinierov a vedcov po celom svete \cite{Matlab} a tým nevynímajúc meteorológov a ďalších odborníkov pracujúcich v atmosférickom výskume. 
Zvyčajne sa MATLAB využíva na výskum a protoypovanie nových metód a procedúr \cite{VerifSoft}, pretože umožňuje rýchlu a jednoduchú implementáciu, keďže jeho súčasťou je mnoho matematických knižníc a je prispôsobený na prácu s maticami dát.
Výhodou MATLABU je, že umožňuje tvorbu GUI a taktiež poskytuje kreslenie rôznorodých grafov a diagramov.
Mali by sme však podotknúť, že podobne ako väčšina štatistického softvéru, aj \textit{MATLAB} je komerčný produkt. Jeho cena za jednu licenciu je \$2,650 (k roku 2015), čo je pomerne vysoká suma, ak vezmeme do úvahy za akým účelom chceme tento softvér využívať a ako dobre je naň prispôsobený.

\subsection{R}
Často používaným a pomerne mocným nástrojom je \textit{open source} skriptovací jazyk \textit{R} \cite{RProject}. V posledných desaťročiach sa stal dominantným jazykom v oblasti štatistického výskumu. Napriek tomu, že ide o voľne stiahnuteľný softvér, tak jeho základný balík obsahuje všetky funkcie, ktoré obsahujú aj platené produkty. R-ko však nezostáva len pri tom, pretože v dobe písania tejto práce (marec 2015) bolo dostupných vyše 6400 užívateľských balíkov s rôznorodou funkcionalitou. Pre nás je dôležití, že medzi týmito balíkmi sa objavil aj balík určený na verifikáciu s názvom \textit{\textbf{verification}} \cite{VerifPackage}. Tento balík obsahuje základné funkcie verifikácie na výpočet štatistík pre spojité, kategorické ale i pravdepodobnostné predpovede. 

Jazyk R neslúži iba na rôznorodé štatistické výpočty, ale poskytuje aj veľmi dobre parametrizovateľnú vizualizáciu. V balíkoch jazyka sa nachádzajú funkcie pre čiarové diagramy, krabicové diagramy, bodové grafy a mnohé iné komplexnejšie vizualizácie, ale taktiež funkcie na zobrazenie základných vizuálnych prvkov, ktorými možno vytvoriť úplne novú osobitnú vizualizáciu.

\subsection[SAS]{Statistical Analysis Software (SAS)}
\textit{Statistical Analysis Software} \cite{SAS}, skrátene SAS, je opäť štatistický programovací jazyk aj so svojim vývojovým prostredím. V oblasti bioštatistiky a farmakológie je veľmi uznávaným a často používaným jazykom. Keďže je veľká podobnosť v používaných metódach medzi verifikáciou predpovedí a spomínanými odvetviami \cite{VerifSoft}, SAS poskytuje funkcionalitu použiteľnú aj pre verifikáciu. Okrem iného SAS ponúka základné, ale aj niektoré pokročilejšie nástroje na vizualizáciu dát. Opäť však musíme podotknúť, že ide o komerčný produkt, ktorého cena licencie je pomerne vysoká.

\subsection[IDL]{Interactive Data Language (IDL)}
IDL, teda \textit{Interactive Data Language} \cite{IDL} je opäť jeden z matematických programovacích jazykov, ktoré patria medzi menej používané v komunite atmosferického výskumu \cite{VerifSoft}. Napriek tomu niektorí výskumníci medzi, ktorými je aj \textit{Beth Ebert} z \textit{Centre for Australian Weather and Climate Research} (CAWCR) uverejnili na svojich webstránkach kód obsahujúci metódy verifikácie napísané v IDL:
\begin{itemize}
	\item Metódy pre verifikáciu pravdepodobnosti zrážok 	(\url{http://www.cawcr.gov.au/projects/verification/POP3/POP3.html})
	\item Priestorové metódy (\url{http://
		www.cawcr.gov.au/staff/eee/#Interests})
\end{itemize} 
IDL na používanie požaduje taktiež získanie platenej licencie, čo obmedzuje počet užívateľov a rovnako aj zdieľanie kódu medzi, ktorý by si mohol ktokoľvek spustiť.


\section{Špecializovaný softvér}

Tento typ softvéru je často podporovaný veľkými meteorologickými inštitúciami, ktoré majú veľa skúseností v tejto oblasti. Preto  obsahuje zvyčajne špecializované metódy na prácu s meteorologickými dátami alebo aj priamo metódy slúžiace pri verifikácii predpovedných modelov počasia. Jedná sa výlučne o open source produkty, ktorých vývoj je dobre financovaný a neustále napreduje. Ďalšou spoločnou črtou je, že všetky spomenuté programy poskytujú viacmenej rovnaké vizualizačné nástroje, v ktorých vidíme priestor na výrazné vylepšenia.

\subsection[NCL]{NCAR Command Language (NCL)}
Ako väčšina softvérových riešení v predchádzajúcej sekcii, tak aj \textit{NCL}, teda \textit{NCAR Command Language} \cite{NCL} je skriptovací jazyk s vlastnou syntaxou a interpreterom. Ide o voľne šíriteľný produkt od \textit{National Center for Atmospheric Research} (NCAR), a jeho zameranie je pochopiteľne na atmosferický výskum. Jeho primárnym cieľom je spravovanie a manipulácia klimatologických dát z predpovedných modelov, čo je jedna zo základných častí verifikácie. NCL obsahuje balík funkcií, ktorými je ľahké implementovať štatistiky verifikácie spojitých premenných, ktoré sme spomínali v časti \ref{sec:errormeasurement}. 

Súčasťou jazyka je aj možnosť vizualizácie predpovedných dát, ale taktiež aj niektoré jednoduché štatistické vizualizačné nástroje použiteľné vo verifikácii. Vzhľadom na to, že ide o meteorologický softvér, tak množstvo funkcií slúžiacich na verifikáciu je nedostačujúci, čoho príčinou môže byť, že verifikácia predpovedných modelov je ešte stále vo svojich začiatkoch \cite{VerifSoft}. Sme si istý, že ako metódy aj používané praktiky pokročia, tak budú vytvorené komunitou NCL vytvorené na tento účel funkcie.

\subsection[MET]{Model Evaluation Tools (MET)}
Jeden z najprepracovanejších softvérov z oblasti verifikácie predpovedných modelov je bezpochyby \textit{MET}, teda \textit{Model Evaluation Tools} \cite{MET}. Jeho autorstvo je pripísané opäť americkej organizácii \textit{NCAR} v spolupráci s \textit{Developmental Testbed Center} (DTC) a celý projekt financovala agentúra \textit{AFWA} spolu s \textit{NOAA}.

Rovnako ako naša aplikácia, aj MET sa sústredí na verifikáciu modelu WRF a taktiež môže byť rozšírený na použitie pre iné predpovedné modely počasia alebo iné typy predpovedí. O tomto svedčia aj niektoré z hlavných filozofických cieľov pri návrhu aplikácie a tými u modularita a prispôsobivosť softvéru. Samotný nástroj MET nie je teda samostatne existujúcou aplikáciou, ale skladá sa z viacerých modulov, ktoré môžu fungovať aj ako samostatné nástroje a taktiež môže byť MET týmto spôsobom ľahko rozšíriteľný \cite{METuserguide}. 

Čo sa týka verifikácie, tak MET sa sústreďuje na verifikáciu spojitých premenných a to na bodovo ale aj objektovo založenými verifikačnými metódami. \textit{Bodovo založené} sú orientované na verifikáciu v konkrétnom geografickom bode, zatiaľ čo \textit{objektovo založené} pristupujú k dátam geometricky a identifikujú objekty, ktorými môžu byť oblasti s istou tlakovou hladinou, búrky, oblačnosť a podobne.

Na vizualizáciu slúžia \textit{Grid-Stat tool}, ktorý slúži na výpočet štatistík a ich vizualizáciu pre bodovo založené metódy, zatiaľ čo \textit{MODE tool} poskytuje túto funkcionalitu pre objektovo založené metódy \cite{METuserguide}. Oba nástroje neposkytujú nijak zvlášť veľkú vizualizačnú silu, avšak v roku 2011 vznikol produkt \textit{METViewer} \cite{METviewer}, ktorý sa snaží tento problém riešiť. METViewer je webová aplikácia, špeciálne navrhnutá pre výstupy z MET, ktoré spracúva a vizualizuje pomocou R skriptov.  Samotná aplikácia je vo verzii 1.0 ako aj 1.1 dostupná na webe (\url{http://www.dtcenter.org/met/metviewer/metviewer.jsp},  \url{http://www.dtcenter.org/met/metviewer/db/mv_hmt_2010}) a podporuje všetky typy diagramov, ako väčšina spomenutého softvéru, teda krabicové, bodové a čiarové diagramy a taktiež histogramy.

Silnými stránkami MET teda zostáva silná podpora inštitúcií, ktoré podporujú a financujú vývoj. Vďaka tomu sa vývoj posúva stále dopredu, organizujú sa rôzne workshopy a je dostupné množstvo návodov. Nevýhodou je silná závislosť na softvérových riešeniach tretej strany a taktiež silná modularita , čo zapríčiňuje komplikovanú inštaláciu softvéru.

\subsection[EVS]{Ensemble Verification System (EVS)}
EVS, teda \textit{Ensemble Verification System} \cite{EVS} je program vyvíjaný pod záštitou skupiny s názvom \textit{Hydrological Ensemble Prediction} (HEP), ktorá patrí pod oddelenie \textit{Office of Hydrologic Development (OHD)}, patriace do \textit{National Weather Service} \cite{EVSmanual}.

Narozdiel od MET, EVS nepodporuje získavanie dát z rôznych modelových dátových formátov ako je GRIB1, GRIB2, BUFR a podobne (pozri sekciu \ref{sec:data}), ale je potrebné, aby boli pozorovania aj predpovede vo formáte určenom pre EVS. Jeden súbor predstavuje tabuľku hodnôt oddelených medzerami, kde prvá hodnota v riadku je časová známka. EVS podporuje rôzne štatistiky pre predpovede spojitých premenných, ale taktiež aj pravdepodobnostné predpovede, ktorých výpočet je podrobne popísaný priamo v programe pri konfigurácii verifikácie.

Výsledné štatistiky, môžme v EVS vizualizovať pomocou už mnohokrát spomínaných diagramov, ktorých podrobný popis nájdeme v nasledujúcej kapitole. Výstupy z EVS je potom možné uložiť do formátu \textit{png}, alebo ako mnoho-stránkový \textit{pdf} súbor.

V závere môžme povedať, že EVS je kvalitný softvér ktorý sa sústreďuje na verifikáciu hydrologických a hydrometeorologických premenných. Na jeho ďalšom vývoji sa neustále pracuje a v dobe písania tejto práce (20.1. 2015) bola zverejnená verzia 5.4 \cite{EVS}.


\section{Zhrnutie}
V tejto časti sme sa snažili prehľadným spôsobom v tabuľke \ref{tab:XY} zhrnúť porovnanie spomenutého softvéru využívaného pri verifikácii.

\begin{sidewaystable}
\centering
\caption{Porovnanie verifikačného softvéru}
	\begin{tabular}{|l|l|l|l|l|l|l|}
		\hline
		Názov             & Štatistický/ Špecializovaný & Open Source & Zameranie                                                                                 & Verifikácia & Vizualizácia & Komentár \\ \hline
		Tabuľkový softvér & Štatistický                 & Rôzne       & Rôzne                                                                                     &             &              &          \\ \hline
		MATLAB            & Štatistický                 & Nie         & \begin{tabular}[c]{@{}l@{}}Štatistický výskum, \\ akademické účely\end{tabular}           &             &              &          \\ \hline
		R                 & Štatistický                 & Áno         & Štatistický výskum                                                                        &             &              &          \\ \hline
		SAS               & Štatistický                 & Nie         & \begin{tabular}[c]{@{}l@{}}Zdravotníctvo,\\  biznis a priemysel\end{tabular}              &             &              &          \\ \hline
		IDL               & Štatistický                 & Nie         & Atmosferický výskum                                                                       &             &              &          \\ \hline
		NCL               & Špecializovaný              & Áno         & \begin{tabular}[c]{@{}l@{}}Predpovedanie počasia\\  a výskum v tejto oblasti\end{tabular} &             &              &          \\ \hline
		MET               & Špecializovaný              & Áno         & \begin{tabular}[c]{@{}l@{}}Predpovedanie počasia \\ a výskum v tejto oblasti\end{tabular} &             &              &          \\ \hline
		EVS               & Špecializovaný              & Áno         & \begin{tabular}[c]{@{}l@{}}Predpovedanie počasia \\ a výskum v tejto oblasti\end{tabular} &             &              &          \\ \hline
	\end{tabular}
\end{sidewaystable}